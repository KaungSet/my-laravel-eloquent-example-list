<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Laravel-Style Code Container</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <style>
    .code-container {
      background-color: #2d2d2d;
      border-radius: 8px;
      font-family: monospace;
      color: #eee;
      min-height: 80px;
    }


    .copy-btn {
      border: none;
      background: transparent;
      color: #ccc;
      cursor: pointer;
      font-size: 1.2rem;
    }

    .copy-btn:hover {
      color: white;
    }

    .blue-text {
      color: #00aaff;
    }

    .red-text {
      color: #ff0000;
    }
  </style>
</head>

<body class="bg-dark text-white">
  <div class="container my-5">
    <h2 class="mb-4 text-center mb-5">Laravel Eloquent Method</h2>

    <!-- Toggle Mode Checkboxes -->
    <div class="mb-4">
      <h5 class="form-label me-3">View Mode:</h5>
      <input type="radio" name="viewMode" id="modeCategory" value="category" checked>
      <label for="modeCategory" class="me-3">By Category</label>

      <input type="radio" name="viewMode" id="modeSpecific" value="specific">
      <label for="modeSpecific">By Specific</label>
    </div>

    <!-- View By Category Filter Selector -->
    <div class="mb-4" id="categorySelectorWrapper">
      <label for="viewCategorySelector" class="form-label">View By:</label>
      <select id="viewCategorySelector" class="form-select w-auto text-dark">
        <option value="all">All</option>
        <option value="select">Select</option>
        <option value="filter">Filter</option>
        <option value="sort">Sort</option>
        <option value="groupBy">groupBy</option>
      </select>
    </div>

    <!-- View By Specific Filter Selector -->
    <div class="mb-4" id="specificSelectorWrapper" style="display: none;">
      <label for="viewSpecificSelector" class="form-label">Specific Filter:</label>
      <select id="viewSpecificSelector" class="form-select w-auto text-dark">
        <option value="all">All</option>
        <option value="get">get</option>
        <option value="with">with</option>
        <option value="withCount">withCount</option>
        <option value="where">where</option>
        <option value="take">take</option>
        <option value="pluck">pluck</option>
        <option value="latest">latest</option>
        <option value="value">value</option>
        <option value="findOrFail">findOrFail</option>
        <option value="firstOrFail">firstOrFail</option>
        <option value="sortBy">sortBy</option>
        <option value="groupBy">groupBy</option>
      </select>
    </div>

    <!-- get -->
    <div class="code-box select get">
      <h4 class="red-text mb-3">get</h4>
      <div class="code-container row d-flex align-items-center justify-content-between" id="code">
        <div class="col-md-9">
          User::<span class="blue-text">get</span>(['id', 'name']);
        </div>
        <div class="col-md-3 text-end">
          <button class="copy-btn" onclick="copyCode(this)" title="Copy Code" id="copy-btn">
            <i class="fas fa-copy"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- with -->
    <div class="mt-5 code-box sort select with">
      <h4 class="red-text mb-3">with</h4>
      <div class="code-container row d-flex align-items-center justify-content-between" id="code">
        <div class="col-md-9">
          $posts = Post::<span class="blue-text">with</span>(['user', 'comments'])-><span
            class="blue-text">get</span>();
        </div>
        <div class="col-md-3 text-end">
          <button class="copy-btn" onclick="copyCode(this)" title="Copy Code" id="copy-btn">
            <i class="fas fa-copy"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- withCount -->
    <div class="mt-5 code-box sort select withCount">
      <h4 class="red-text mb-3">withCount</h4>
      <div class="code-container row d-flex align-items-center justify-content-between" id="code">
        <div class="col-md-9">
          $users = User::<span class="blue-text">withCount</span>('posts')->get();
        </div>
        <div class="col-md-3 text-end">
          <button class="copy-btn" onclick="copyCode(this)" title="Copy Code" id="copy-btn">
            <i class="fas fa-copy"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- where / value-->
    <div class="mt-5  code-box select filter where value">
      <h4 class="red-text mb-3">where / value</h4>
      <div class="code-container row d-flex align-items-center justify-content-between" id="code">
        <div class="col-md-9">
          $users = User::<span class="blue-text">where</span>('email', $email)-><span
            class="blue-text">value</span>('name');
        </div>
        <div class="col-md-3 text-end">
          <button class="copy-btn" onclick="copyCode(this)" title="Copy Code" id="copy-btn">
            <i class="fas fa-copy"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- take -->
    <div class="mt-5  code-box select filter where take">
      <h4 class="red-text mb-3">take</h4>
      <div class="code-container row d-flex align-items-center justify-content-between" id="code">
        <div class="col-md-9">
          $users = User::<span class="blue-text">select</span>('name', 'email')-><span
            class="blue-text">take</span>(5)-><span class="blue-text">get</span>();
        </div>
        <div class="col-md-3 text-end">
          <button class="copy-btn" onclick="copyCode(this)" title="Copy Code" id="copy-btn">
            <i class="fas fa-copy"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- pluck -->
    <div class="mt-5 code-box select filter pluck">
      <h4 class="red-text mb-3">pluck</h4>
      <div class="code-container row d-flex align-items-center justify-content-between" id="code">
        <div class="col-md-9">
          $users = User::<span class="blue-text">pluck</span>('name');
        </div>
        <div class="col-md-3 text-end">
          <button class="copy-btn" onclick="copyCode(this)" title="Copy Code" id="copy-btn">
            <i class="fas fa-copy"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- latest -->
    <div class="mt-5 code-box select latest">
      <h4 class="red-text mb-3">latest</h4>
      <div class="code-container row d-flex align-items-center justify-content-between" id="code">
        <div class="col-md-9">
          $users = User::<span class="blue-text">latest</span>()-><span class="blue-text">first</span>();
        </div>
        <div class="col-md-3 text-end">
          <button class="copy-btn" onclick="copyCode(this)" title="Copy Code" id="copy-btn">
            <i class="fas fa-copy"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- findOrFail -->
    <div class="mt-5 code-box select filter findOrFail">
      <h4 class="red-text mb-3">findOrFail</h4>
      <div class="code-container row d-flex align-items-center justify-content-between" id="code">
        <div class="col-md-9">
          $users = User::<span class="blue-text">findOrFail</span>('id', 1);
        </div>
        <div class="col-md-3 text-end">
          <button class="copy-btn" onclick="copyCode(this)" title="Copy Code" id="copy-btn">
            <i class="fas fa-copy"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- firstOrFail -->
    <div class="mt-5 code-box select filter firstOrFail">
      <h4 class="red-text mb-3">firstOrFail</h4>
      <div class="code-container row d-flex align-items-center justify-content-between" id="code">
        <div class="col-md-9">
          $users = User::<span class="blue-text">where</span>('email', 'example@example.com')-><span
            class="blue-text">firstOrFail</span>();
        </div>
        <div class="col-md-3 text-end">
          <button class="copy-btn" onclick="copyCode(this)" title="Copy Code" id="copy-btn">
            <i class="fas fa-copy"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- sortBy -->
    <div class="mt-5 code-box sort select sortBy">
      <h4 class="red-text mb-3">sortBy</h4>
      <div class="code-container row d-flex align-items-center justify-content-between" id="code">
        <div class="col-md-9">
          $users = User::<span class="blue-text">where</span>('active', true)-><span
            class="blue-text">orderBy</span>('created_at', 'asc');
        </div>
        <div class="col-md-3 text-end">
          <button class="copy-btn" onclick="copyCode(this)" title="Copy Code" id="copy-btn">
            <i class="fas fa-copy"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- groupBy -->
    <div class="mt-5 code-box sort select groupBy">
      <h4 class="red-text mb-3">groupBy</h4>
      <div class="code-container row d-flex align-items-center justify-content-between" id="code">
        <div class="col-md-9">
          $employees = Employee::<span class="blue-text">select</span>('department', DB::raw('sum(salary) as
          total_salary'))<br>
          -><span class="blue-text">groupBy</span>('department')<br>
          -><span class="blue-text">get</span>();
        </div>
        <div class="col-md-3 text-end">
          <button class="copy-btn" onclick="copyCode(this)" title="Copy Code" id="copy-btn">
            <i class="fas fa-copy"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- groupBy -->
    <div class="mt-5 code-box sort select groupBy">
      <h4 class="red-text mb-3">groupBy</h4>
      <div class="code-container row d-flex align-items-center justify-content-between" id="code">
        <div class="col-md-9 code-container">
          $orders = Order::<span class="blue-text">select</span>('user_id', 'status', DB::raw('count(*) as total'))<br>
          -><span class="blue-text">groupBy</span>('user_id', 'status')<br>
          -><span class="blue-text">get</span>();
        </div>
        <div class="col-md-3 text-end">
          <button class="copy-btn" onclick="copyCode(this)" title="Copy Code" id="copy-btn">
            <i class="fas fa-copy"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- groupBy -->
    <div class="mt-5 code-box sort select groupBy">
      <h4 class="red-text mb-3">groupBy</h4>
      <div class="code-container row d-flex align-items-center justify-content-between" id="code">
        <div class="col-md-9 code-container">
          $sales = Sale::<span class="blue-text">select</span>(DB::raw('DATE(created_at) as date'), DB::raw('sum(amount)
          as total'))<br>
          -><span class="blue-text">groupBy</span>(DB::raw('DATE(created_at)'))<br>
          -><span class="blue-text">get</span>();
        </div>
        <div class="col-md-3 text-end">
          <button class="copy-btn" onclick="copyCode(this)" title="Copy Code" id="copy-btn">
            <i class="fas fa-copy"></i>
          </button>
        </div>
      </div>
    </div>

  </div>






  <!-- copy function -->
  <script>
    function copyCode(copyButton) {
      const htmlContent = copyButton.closest('.row').querySelector('.code-container').innerHTML;

      // Replace <br> tags with newline characters
      const textContent = htmlContent.replace(/<br\s*\/?>/gi, '');

      // Create a temporary element to extract text (handles other HTML tags)
      const temp = document.createElement('div');
      temp.innerHTML = textContent;

      // Get the final text with line breaks but no HTML tags
      const code = temp.textContent || temp.innerText;

      console.log(code);
      navigator.clipboard.writeText(code).then(() => {
        copyButton.innerHTML = "Copied âœ…";
        setTimeout(() => {
          copyButton.innerHTML = '<i class="fas fa-copy"></i>';
        }, 2000);
      });
    }
  </script>

  <!-- category filter -->
  <script>
    document.getElementById('viewCategorySelector').addEventListener('change', function () {
      const value = this.value;
      const allSections = document.querySelectorAll('.select, .filter , .sort, .groupBy');

      allSections.forEach(section => {
        section.style.display = 'none';
      });

      if (value === 'all') {
        allSections.forEach(section => section.style.display = '');
      } else {
        document.querySelectorAll('.' + value).forEach(section => {
          section.style.display = '';
        });
      }
    });

    // Optional: trigger default view on page load
    window.addEventListener('DOMContentLoaded', () => {
      document.getElementById('viewCategorySelector').dispatchEvent(new Event('change'));
    });
  </script>

  <!-- specific filter -->
  <script>
    document.getElementById('viewSpecificSelector').addEventListener('change', function () {
      const value = this.value;
      const allSections = document.querySelectorAll('.where, .value , .findOrFail, .firstOrFail , .latest, .pluck, .sortBy, .groupBy, .with, .withCount, .take, .get');

      allSections.forEach(section => {
        section.style.display = 'none';
      });

      if (value === 'all') {
        allSections.forEach(section => section.style.display = '');
      } else {
        document.querySelectorAll('.' + value).forEach(section => {
          section.style.display = '';
        });
      }
    });

    // Optional: trigger default view on page load
    window.addEventListener('DOMContentLoaded', () => {
      document.getElementById('viewSpecificSelector').dispatchEvent(new Event('change'));
    });
  </script>

  <!-- category / specific mode selector -->
  <script>
    const modeCategory = document.getElementById('modeCategory');
    const modeSpecific = document.getElementById('modeSpecific');
    const categoryWrapper = document.getElementById('categorySelectorWrapper');
    const specificWrapper = document.getElementById('specificSelectorWrapper');

    function updateSelectorView() {

      const codeBoxes = document.querySelectorAll('.code-box');
      codeBoxes.forEach(box => {
        box.style.display = 'block';
      });

      if (modeCategory.checked) {
        categoryWrapper.style.display = 'block';
        specificWrapper.style.display = 'none';
      } else if (modeSpecific.checked) {
        categoryWrapper.style.display = 'none';
        specificWrapper.style.display = 'block';
      }
    }

    // Attach event listeners
    modeCategory.addEventListener('change', updateSelectorView);
    modeSpecific.addEventListener('change', updateSelectorView);

    // Initial call
    updateSelectorView();
  </script>


</body>

</html>